import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{h as M,c as _e,b as be,n as f,e as ge,r as F,s as Z,f as J,d as B,S as ye,g as se,a as le,p as ke,ap as X,X as oe,_ as j,aq as xe,ar as Ee,W as we,as as Te,at as Ie,af as Se,a3 as Ae,z as Me,a7 as ee,au as De,av as Ne,aw as Re,Q as Ce,ax as Oe,k as ie,ay as ue,G as He,v as re,I as ae,J as Ve,B as E,t as w,K as C,w as Be,M as O,N as T}from"../chunks/DzLxjRAp.js";import{l as de,e as Y}from"../chunks/nxxMPMlL.js";import{a as z,t as fe,c as Le}from"../chunks/DigXLuHG.js";import{i as Pe}from"../chunks/XNcYlZy4.js";import{c as $e}from"../chunks/C670VDik.js";import{r as L,s as K}from"../chunks/uokI1BXu.js";import{i as qe}from"../chunks/uHMRfk6-.js";import{o as Ge}from"../chunks/BGKcGItD.js";import{u as Je,s as Xe,p as S}from"../chunks/BgLzZ-qD.js";function Ye(e,r){return r}function ze(e,r,a,o){for(var i=[],s=r.length,u=0;u<s;u++)Ee(r[u].e,i,!0);var h=s>0&&i.length===0&&a!==null;if(h){var p=a.parentNode;we(p),p.append(a),o.clear(),A(e,r[0].prev,r[s-1].next)}Te(i,()=>{for(var b=0;b<s;b++){var t=r[b];h||(o.delete(t.k),A(e,t.prev,t.next)),Ie(t.e,!h)}})}function Ke(e,r,a,o,i,s=null){var u=e,h={flags:r,items:new Map,first:null};M&&_e();var p=null,b=!1,t=Se(()=>{var c=a();return Ae(c)?c:c==null?[]:oe(c)});be(()=>{var c=f(t),n=c.length;if(b&&n===0)return;b=n===0;let m=!1;if(M){var d=u.data===ge;d!==(n===0)&&(u=F(),Z(u),J(!1),m=!0)}if(M){for(var x=null,g,l=0;l<n;l++){if(B.nodeType===8&&B.data===ye){u=B,m=!0,J(!1);break}var _=c[l],I=o(_,l);g=ce(B,h,x,null,_,I,l,i,r,a),h.items.set(I,g),x=g}n>0&&Z(F())}M||Qe(c,h,u,i,r,o,a),s!==null&&(n===0?p?se(p):p=le(()=>s(u)):p!==null&&ke(p,()=>{p=null})),m&&J(!0),f(t)}),M&&(u=B)}function Qe(e,r,a,o,i,s,u){var h=e.length,p=r.items,b=r.first,t=b,c,n=null,m=[],d=[],x,g,l,_;for(_=0;_<h;_+=1){if(x=e[_],g=s(x,_),l=p.get(g),l===void 0){var I=t?t.e.nodes_start:a;n=ce(I,r,n,n===null?r.first:n.next,x,g,_,o,i,u),p.set(g,n),m=[],d=[],t=n.next;continue}if(Ue(l,x,_),(l.e.f&X)!==0&&se(l.e),l!==t){if(c!==void 0&&c.has(l)){if(m.length<d.length){var D=d[0],y;n=D.prev;var N=m[0],R=m[m.length-1];for(y=0;y<m.length;y+=1)te(m[y],D,a);for(y=0;y<d.length;y+=1)c.delete(d[y]);A(r,N.prev,R.next),A(r,n,N),A(r,R,D),t=D,n=R,_-=1,m=[],d=[]}else c.delete(l),te(l,t,a),A(r,l.prev,l.next),A(r,l,n===null?r.first:n.next),A(r,n,l),n=l;continue}for(m=[],d=[];t!==null&&t.k!==g;)(t.e.f&X)===0&&(c??(c=new Set)).add(t),d.push(t),t=t.next;if(t===null)continue;l=t}m.push(l),n=l,t=l.next}if(t!==null||c!==void 0){for(var H=c===void 0?[]:oe(c);t!==null;)(t.e.f&X)===0&&H.push(t),t=t.next;var V=H.length;if(V>0){var P=null;ze(r,H,P,p)}}j.first=r.first&&r.first.e,j.last=n&&n.e}function Ue(e,r,a,o){xe(e.v,r),e.i=a}function ce(e,r,a,o,i,s,u,h,p,b){var t=(p&Ne)!==0,c=(p&Re)===0,n=t?c?Me(i):ee(i):i,m=(p&De)===0?u:ee(u),d={i:m,v:n,k:s,a:null,e:null,prev:a,next:o};try{return d.e=le(()=>h(e,n,m,b),M),d.e.prev=a&&a.e,d.e.next=o&&o.e,a===null?r.first=d:(a.next=d,a.e.next=d.e),o!==null&&(o.prev=d,o.e.prev=d.e),d}finally{}}function te(e,r,a){for(var o=e.next?e.next.e.nodes_start:a,i=r?r.e.nodes_start:a,s=e.e.nodes_start;s!==o;){var u=Ce(s);i.before(s),s=u}}function A(e,r,a){r===null?e.first=a:(r.next=a,r.e.next=a&&a.e),a!==null&&(a.prev=r,a.e.prev=r&&r.e)}function Q(e,r,a=r){var o=Oe();de(e,"input",i=>{var s=i?e.defaultValue:e.value;if(s=U(e)?W(s):s,a(s),o&&s!==(s=r())){var u=e.selectionStart,h=e.selectionEnd;e.value=s??"",h!==null&&(e.selectionStart=u,e.selectionEnd=Math.min(h,e.value.length))}}),(M&&e.defaultValue!==e.value||ie(r)==null&&e.value)&&a(U(e)?W(e.value):e.value),ue(()=>{var i=r();U(e)&&i===W(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function ne(e,r,a=r){de(e,"change",o=>{var i=o?e.defaultChecked:e.checked;a(i)}),(M&&e.defaultChecked!==e.checked||ie(r)==null)&&a(e.checked),ue(()=>{var o=r();e.checked=!!o})}function U(e){var r=e.type;return r==="number"||r==="range"}function W(e){return e===""?null:+e}const We={get data(){return S.data},get error(){return S.error},get form(){return S.form},get params(){return S.params},get route(){return S.route},get state(){return S.state},get status(){return S.status},get url(){return S.url}};Xe.updated.check;const Fe=We;var Ze=fe('<div class="group relative"><img class="object-cover"> <button class="absolute inset-0 bg-black/80 opacity-0 group-hover:opacity-100 m-auto transition-all">Delete</button></div>'),je=fe('<!> <div class="p-2 flex gap-5"><button class="p-2 border-pink-300 border-2 border-double rounded-sm hover:border-blue-400 transition-all">Submit</button> <div class="relative"><input type="text" class="peer bg-transparent h-10 w-72 rounded-lg text-gray-200 placeholder-transparent ring-2 px-2 ring-gray-500 focus:ring-sky-600 focus:outline-none focus:border-rose-600" placeholder="Type inside me"><label for="username" class="absolute cursor-text left-0 -top-3 text-sm text-gray-500 bg-inherit mx-1 px-1 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-500 peer-placeholder-shown:top-2 peer-focus:-top-3 peer-focus:text-sky-600 peer-focus:text-sm transition-all">Enter a link</label></div> <div class="flex gap-5 text-center justify-center items-center border-b-pink-300 border-b-2 px-5"><input type="checkbox"> <div>Random</div> <input type="number"></div> <div class="flex gap-5 text-center justify-center items-center border-b-pink-300 border-b-2 px-5"><input type="checkbox"> <div>Grid</div> <input type="number"></div> <button class="p-2 border-pink-300 border-2 border-double rounded-sm hover:border-blue-400 transition-all">Reload</button></div> <div class="grid w-full "><!></div>',1);function fr(e,r){He(r,!1);let a=T(),o=T(),i=T(),s=T([]),u=T(""),h=T(0),p=T(!0),b=T(5),t=T(!1);const c=()=>{setTimeout(async()=>{Fe.url.pathname==="/media/image"&&(await f(a)(),c())},3e4)};Ge(()=>{E(a,async()=>{const k=await(await fetch("https://api.kurosiko.com/get-db",{method:"POST",mode:"cors",body:JSON.stringify({rand:f(p),limit:f(h)?f(h):0})})).json();E(s,k)}),E(o,async()=>{await fetch("https://api.kurosiko.com/db",{method:"POST",mode:"cors",body:f(u)}),E(u,"")}),E(i,async v=>{await fetch("https://api.kurosiko.com/db",{method:"DELETE",mode:"cors",body:v}),await f(a)()}),c()}),qe();var n=je(),m=re(n);$e(m,()=>f(a),(v,k)=>{k(v,{})});var d=w(m,2),x=C(d),g=w(x,2),l=C(g);L(l),Be(),O(g);var _=w(g,2),I=C(_);L(I);var D=w(I,4);L(D),O(_);var y=w(_,2),N=C(y);L(N);var R=w(N,4);L(R),O(y);var H=w(y,2);O(d);var V=w(d,2),P=C(V);{var ve=v=>{var k=Le(),pe=re(k);Ke(pe,1,()=>f(s),Ye,(me,$)=>{var q=Ze(),G=C(q),he=w(G,2);O(q),ae(()=>{K(G,"src",f($).url),K(G,"alt",f($).url)}),Y("click",he,()=>f(i)(f($).url)),z(me,q)}),z(v,k)};Pe(P,v=>{f(s)!=null&&v(ve)})}O(V),ae(()=>K(V,"style",`grid-template-columns:repeat(${(f(t)?"auto-fit":f(b))??""},minmax(0,1fr));`)),Y("click",x,function(...v){var k;(k=f(o))==null||k.apply(this,v)}),Q(l,()=>f(u),v=>E(u,v)),ne(I,()=>f(p),v=>E(p,v)),Q(D,()=>f(h),v=>E(h,v)),ne(N,()=>f(t),v=>E(t,v)),Q(R,()=>f(b),v=>E(b,v)),Y("click",H,function(...v){var k;(k=f(a))==null||k.apply(this,v)}),z(e,n),Ve()}export{fr as component};
