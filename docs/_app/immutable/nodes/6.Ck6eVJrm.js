import{a as H,t as W,c as ae}from"../chunks/BW6U-LBV.js";import"../chunks/YTZjVfr2.js";import{h as k,a as te,Q as se,g as h,V as ne,W as B,X as G,Y as L,a0 as D,a7 as oe,Z,_ as F,$ as le,an as O,ab as J,A as P,ao as ie,ap as ue,aa as fe,aq as ve,ar as ce,H as de,D as _e,N as pe,w as X,as as he,at as ge,au as me,a5 as be,av as ye,aw as ke,C as xe,ax as Ee,ay as we,d as Ae,az as Te,p as Ie,f as z,l as Ne,y as I,s as S,m as V,n as De,o as Y,aA as M,t as Me}from"../chunks/B2Gl6wN4.js";import{b as Se,l as Re,e as K}from"../chunks/BQVtOFUr.js";import{c as Ce,i as He}from"../chunks/BZMAbv7B.js";import{i as Le}from"../chunks/DIYXkhcv.js";import{o as Oe}from"../chunks/C0pD8fOU.js";import{u as Ve,s as Ye,p as E}from"../chunks/DDL5YCXw.js";function qe(e,r){return r}function $e(e,r,a,l){for(var n=[],o=r.length,u=0;u<o;u++)ue(r[u].e,n,!0);var p=o>0&&n.length===0&&a!==null;if(p){var d=a.parentNode;fe(d),d.append(a),l.clear(),w(e,r[0].prev,r[o-1].next)}ve(n,()=>{for(var g=0;g<o;g++){var t=r[g];p||(l.delete(t.k),w(e,t.prev,t.next)),ce(t.e,!p)}})}function Be(e,r,a,l,n,o=null){var u=e,p={flags:r,items:new Map,first:null};k&&te();var d=null,g=!1,t=de(()=>{var f=a();return _e(f)?f:f==null?[]:J(f)});se(()=>{var f=h(t),i=f.length;if(g&&i===0)return;g=i===0;let _=!1;if(k){var v=u.data===ne;v!==(i===0)&&(u=B(),G(u),L(!1),_=!0)}if(k){for(var y=null,c,s=0;s<i;s++){if(D.nodeType===8&&D.data===oe){u=D,_=!0,L(!1);break}var m=f[s],A=l(m,s);c=j(D,p,y,null,m,A,s,n,r,a),p.items.set(A,c),y=c}i>0&&G(B())}k||Ge(f,p,u,n,r,l,a),o!==null&&(i===0?d?Z(d):d=F(()=>o(u)):d!==null&&le(d,()=>{d=null})),_&&L(!0),h(t)}),k&&(u=D)}function Ge(e,r,a,l,n,o,u){var p=e.length,d=r.items,g=r.first,t=g,f,i=null,_=[],v=[],y,c,s,m;for(m=0;m<p;m+=1){if(y=e[m],c=o(y,m),s=d.get(c),s===void 0){var A=t?t.e.nodes_start:a;i=j(A,r,i,i===null?r.first:i.next,y,c,m,l,n,u),d.set(c,i),_=[],v=[],t=i.next;continue}if(Pe(s,y,m),(s.e.f&O)!==0&&Z(s.e),s!==t){if(f!==void 0&&f.has(s)){if(_.length<v.length){var x=v[0],b;i=x.prev;var T=_[0],N=_[_.length-1];for(b=0;b<_.length;b+=1)Q(_[b],x,a);for(b=0;b<v.length;b+=1)f.delete(v[b]);w(r,T.prev,N.next),w(r,i,T),w(r,N,x),t=x,i=N,m-=1,_=[],v=[]}else f.delete(s),Q(s,t,a),w(r,s.prev,s.next),w(r,s,i===null?r.first:i.next),w(r,i,s),i=s;continue}for(_=[],v=[];t!==null&&t.k!==c;)(t.e.f&O)===0&&(f??(f=new Set)).add(t),v.push(t),t=t.next;if(t===null)continue;s=t}_.push(s),i=s,t=s.next}if(t!==null||f!==void 0){for(var C=f===void 0?[]:J(f);t!==null;)(t.e.f&O)===0&&C.push(t),t=t.next;var ee=C.length;if(ee>0){var re=null;$e(r,C,re,d)}}P.first=r.first&&r.first.e,P.last=i&&i.e}function Pe(e,r,a,l){ie(e.v,r),e.i=a}function j(e,r,a,l,n,o,u,p,d,g){var t=(d&ge)!==0,f=(d&me)===0,i=t?f?pe(n):X(n):n,_=(d&he)===0?u:X(u),v={i:_,v:i,k:o,a:null,e:null,prev:a,next:l};try{return v.e=F(()=>p(e,i,_,g),k),v.e.prev=a&&a.e,v.e.next=l&&l.e,a===null?r.first=v:(a.next=v,a.e.next=v.e),l!==null&&(l.prev=v,l.e.prev=v.e),v}finally{}}function Q(e,r,a){for(var l=e.next?e.next.e.nodes_start:a,n=r?r.e.nodes_start:a,o=e.e.nodes_start;o!==l;){var u=be(o);n.before(o),o=u}}function w(e,r,a){r===null?e.first=a:(r.next=a,r.e.next=a&&a.e),a!==null&&(a.prev=r,a.e.prev=r&&r.e)}function Xe(e){if(k){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var l=e.value;R(e,"value",null),e.value=l}if(e.hasAttribute("checked")){var n=e.checked;R(e,"checked",null),e.checked=n}}};e.__on_r=a,ye(a),Se()}}function R(e,r,a,l){var n=e.__attributes??(e.__attributes={});k&&(n[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||n[r]!==(n[r]=a)&&(r==="style"&&"__styles"in e&&(e.__styles={}),r==="loading"&&(e[ke]=a),a==null?e.removeAttribute(r):typeof a!="string"&&ze(e).includes(r)?e[r]=a:e.setAttribute(r,a))}var U=new Map;function ze(e){var r=U.get(e.nodeName);if(r)return r;U.set(e.nodeName,r=[]);for(var a,l=e,n=Element.prototype;n!==l;){a=Ee(l);for(var o in a)a[o].set&&r.push(o);l=xe(l)}return r}function Ke(e,r,a=r){var l=we();Re(e,"input",n=>{var o=n?e.defaultValue:e.value;if(o=q(e)?$(o):o,a(o),l&&o!==(o=r())){var u=e.selectionStart,p=e.selectionEnd;e.value=o??"",p!==null&&(e.selectionStart=u,e.selectionEnd=Math.min(p,e.value.length))}}),(k&&e.defaultValue!==e.value||Ae(r)==null&&e.value)&&a(q(e)?$(e.value):e.value),Te(()=>{var n=r();q(e)&&n===$(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function q(e){var r=e.type;return r==="number"||r==="range"}function $(e){return e===""?null:+e}const Qe={get data(){return E.data},get error(){return E.error},get form(){return E.form},get params(){return E.params},get route(){return E.route},get state(){return E.state},get status(){return E.status},get url(){return E.url}};Ye.updated.check;const Ue=Qe;var We=W('<div class="group relative"><img> <button class="absolute bg-black/80 opacity-0 group-hover:opacity-100 top-0 left-0 right-0 bottom-0 m-auto transition-all">Delete</button></div>'),Ze=W('<!> <div class="p-2 flex gap-5"><button class="p-2 border-pink-300 border-2 border-double rounded-sm hover:border-blue-400 transition-all">Submit</button> <input type="text" class="peer bg-transparent h-10 w-72 rounded-lg text-gray-200 placeholder-transparent ring-2 px-2 ring-gray-500 focus:ring-sky-600 focus:outline-none focus:border-rose-600" placeholder="Type inside me"><label for="username" class="absolute cursor-text left-0 -top-3 text-sm text-gray-500 bg-inherit mx-1 px-1 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-500 peer-placeholder-shown:top-2 peer-focus:-top-3 peer-focus:text-sky-600 peer-focus:text-sm transition-all">Enter a link</label></div> <div class="grid grid-cols-3"><!></div>',1);function nr(e,r){Ie(r,!1);let a=M(),l=M(),n=M(),o=M([]),u=M("");const p=()=>{setTimeout(async()=>{Ue.url.pathname==="/media/image"&&(await h(a)(),p())},3e4)};Oe(()=>{I(a,async()=>{const s=await(await fetch("https://api.kurosiko.com/db",{method:"GET",mode:"cors"})).json();I(o,s)}),I(l,async()=>{await fetch("https://api.kurosiko.com/db",{method:"POST",mode:"cors",body:h(u)}),I(u,"")}),I(n,async c=>{await fetch("https://api.kurosiko.com/db",{method:"DELETE",mode:"cors",body:c}),await h(a)()}),p()}),Le();var d=Ze(),g=z(d);Ce(g,()=>h(a),(c,s)=>{s(c,{})});var t=S(g,2),f=V(t),i=S(f,2);Xe(i),De(),Y(t);var _=S(t,2),v=V(_);{var y=c=>{var s=ae(),m=z(s);Be(m,1,()=>h(o),qe,(A,x)=>{var b=We(),T=V(b),N=S(T,2);Y(b),Me(()=>{R(T,"src",h(x).url),R(T,"alt",h(x).url)}),K("click",N,()=>h(n)(h(x).url)),H(A,b)}),H(c,s)};He(v,c=>{h(o)!=null&&c(y)})}Y(_),K("click",f,function(...c){var s;(s=h(l))==null||s.apply(this,c)}),Ke(i,()=>h(u),c=>I(u,c)),H(e,d),Ne()}export{nr as component};
